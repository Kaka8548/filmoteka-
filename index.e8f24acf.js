function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},r=t.parcelRequiref3f2;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequiref3f2=r);var o=r("kJc72"),l=r("NIOgM"),i=r("lkrYr"),s=r("fb9GJ");l=r("NIOgM"),o=r("kJc72");let c,d;function u(t,a,n){c=t.page,d=t.total_pages;let r=5;window.screen.width>=768&&(r=9);const i=document.getElementById("tui-pagination-container"),u={totalItems:d,itemsPerPage:20,visiblePages:r,page:c,centerAlign:!0,template:{page:'<a href="#" class="page-btn">{{page}}</a>',currentPage:'<a href="#" class="page-btn is-selected">{{page}}</a>',moveButton:'<a href="#" class="page-btn page-{{type}}"></a>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip" id="point-{{type}}"><span class="tui-ico-ellip">...</span></a>'}};new(e(s))(i,u).on("afterMove",(e=>{const t=e.page;"TRENDING"!==a?"SEARCH_MOVIES"===a&&(0,l.fetchData)("SEARCH_MOVIES",{page:t,query:n}).then((e=>{(0,o.onRenderGallery)(e.data.results)})):(0,l.fetchData)("TRENDING",{page:t}).then((e=>{(0,o.onRenderGallery)(e.data.results)}))}))}const f=async e=>{document.querySelector(".film-selection").innerHTML=i.loading;const t=await(0,l.fetchData)(l.TRENDING,{page:1});(0,o.onRenderGallery)(t.data.results),u(t.data,"TRENDING")},p=document.querySelector(".header__form");document.querySelector(".header-logo__link").addEventListener("click",(()=>{f(),p.reset()})),document.querySelector("[data-home]").addEventListener("click",(()=>{f(),p.reset()})),f();o=r("kJc72"),l=r("NIOgM"),i=r("lkrYr");(()=>{const e=document.querySelector(".header__form");let t;const a=document.querySelector(".header-error__text");e.addEventListener("submit",(async function(e){e.preventDefault(),a.textContent="";const{searchQuery:n}=e.currentTarget;if(t===n.value)return;const r=document.querySelector(".film-selection");t=n.value;const s=await(0,l.fetchData)(l.SEARCH_MOVIES,{page:1,query:t});if(0===s.data.results.length)return void(a.textContent="There is no films with such name. Please, try again.");r.innerHTML=i.loading,(0,o.onRenderGallery)(s.data.results),u(s.data,"SEARCH_MOVIES",t)}))})(),r("dBD8k"),r("kGSd4"),r("iThid"),r("9t81w"),r("60Tue");
//# sourceMappingURL=index.e8f24acf.js.map
