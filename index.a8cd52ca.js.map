{"mappings":"iiBAAA,ICKIA,EACAC,EDNJC,EAAAC,EAAA,S,oDCAAC,EAAAD,EAAA,S,0BAQe,SAAAE,EAAoBC,EAAMC,EAAWC,GAClDR,EAAUM,EAAKG,KACfR,EAAgBK,EAAKI,YACrB,IAAIC,EAAQ,EACRC,OAAOC,OAAOC,OAAS,MACzBH,EAAQ,GAGV,IAAMI,EAAYC,SAASC,eAAe,4BAEpCC,EAAU,CACdC,WAAYlB,EACZmB,aAAc,GACdC,aAAcV,EACdF,KAAMT,EACNsB,aAAa,EACbC,SAAU,CACRd,KAAM,4CACNe,YAAa,wDACbC,WAAY,kDACZC,WACE,0HAMa,IAAIC,EAAAvB,GAAJ,CAAeW,EAAWG,GAClCU,GAAG,aAAa,SAAAC,GACzB,IAAML,EAAcK,EAAMpB,KACR,aAAdF,EAKqB,kBAAdA,IACT,EAAAuB,EAAAC,WAAU,gBAAiB,CAAEtB,KAAMe,EAAaQ,MAAOxB,IAAayB,MAClE,SAAAC,IACE,EAAAC,EAAAC,iBAAgBF,EAAI5B,KAAK+B,Q,KAP7B,EAAAP,EAAAC,WAAU,WAAY,CAAEtB,KAAMe,IAAeS,MAAK,SAAAC,IAChD,EAAAC,EAAAC,iBAAgBF,EAAI5B,KAAK+B,Q,ODnC1B,I,EAAMC,G,EAAaX,EAAAzB,EAAA,CAAAyB,EAAAY,GAAAC,MAAA,SAAAC,EAAMhC,G,IAGxByB,E,yEAFUlB,SAAS0B,cAAc,mBAC/BC,UAAYC,EAAAC,Q,UACF,EAAAf,EAAAC,WAAUD,EAAAgB,SAAU,CAAErC,KAAc,I,OAAhDyB,EAAGa,EAAAC,MAET,EAAAb,EAAAC,iBAAgBF,EAAI5B,KAAK+B,SACzBhC,EAAW6B,EAAI5B,KAAM,Y,oDANSG,G,iCAS1BwC,EAAOjC,SAAS0B,cAAc,iBACpC1B,SAAS0B,cAAc,sBAAsBQ,iBAAiB,SAAS,WACrEZ,IACAW,EAAKE,O,IAEPnC,SAAS0B,cAAc,eAAeQ,iBAAiB,SAAS,WAC9DZ,IACAW,EAAKE,O,IAEPb,IEvBApC,EAAAC,EAAA,S,qDAK+B,WAC7B,IACI6B,EADEoB,EAAOpC,SAAS0B,cAAc,iBAE9BW,EAAarC,SAAS0B,cAAc,uB,SAI3BY,I,OAAAA,EAAf3B,EAAAzB,EAAA,CAAAyB,EAAAY,GAAAC,MAAA,SAAAC,EAAwBc,G,IAIdC,EAKFC,EAIAvB,E,qEAZNqB,EAAEG,iBACFL,EAAWM,YAAc,GAEnBH,EAAkBD,EAAEK,cAAlBJ,YACJxB,IAAUwB,EAAYK,MAAK,C,uDAIzBJ,EAAUzC,SAAS0B,cAAc,mBAEvCV,EAAQwB,EAAYK,M,UAEF,EAAA/B,EAAAC,WAAUD,EAAAgC,cAAe,CAAErD,KAAM,EAAGuB,U,UAEtB,KAF1BE,EAAGa,EAAAC,MAED1C,KAAK+B,QAAQ0B,OAAY,C,uBAC/BV,EAAWM,YACT,uD,2BAGJF,EAAQd,UAAYC,EAAAC,SACpB,EAAAV,EAAAC,iBAAgBF,EAAI5B,KAAK+B,SACzBhC,EAAW6B,EAAI5B,KAAM,gBAAiB0B,G,6CAtBjBgC,MAAAC,KAAAC,U,CAFvBd,EAAKF,iBAAiB,U,SAEEK,G,OAATD,EAAQU,MAAAC,KAAAC,U,IA0BzBC,G","sources":["src/js/utilities/onTrending.js","src/js/utilities/pagination.js","src/js/utilities/onFindFilmTitle.js"],"sourcesContent":["import { onRenderGallery } from './onRenderGallery';\nimport { fetchData, TRENDING } from './fetchData';\nimport { loading } from '../constants/loading';\nimport Pagination from './pagination';\n\nexport const onTrending = async page => {\n  const gallery = document.querySelector('.film-selection');\n  gallery.innerHTML = loading;\n  const res = await fetchData(TRENDING, { page: (page = 1) });\n\n  onRenderGallery(res.data.results);\n  Pagination(res.data, 'TRENDING');\n};\n\nconst form = document.querySelector('.header__form');\ndocument.querySelector('.header-logo__link').addEventListener('click', () => {\n  onTrending();\n  form.reset();\n});\ndocument.querySelector('[data-home]').addEventListener('click', () => {\n  onTrending();\n  form.reset();\n});\nonTrending();\n","import Pagination from 'tui-pagination';\n// import 'tui-pagination/dist/tui-pagination.css';\nimport { fetchData } from './fetchData';\nimport { onRenderGallery } from './onRenderGallery';\n\nlet pageNum;\nlet totalItemsNum;\n\nexport default function Pagination(data, queryType, queryWord) {\n  pageNum = data.page;\n  totalItemsNum = data.total_pages;\n  let pages = 5;\n  if (window.screen.width >= 768) {\n    pages = 9;\n  }\n\n  const container = document.getElementById('tui-pagination-container');\n\n  const options = {\n    totalItems: totalItemsNum,\n    itemsPerPage: 20,\n    visiblePages: pages,\n    page: pageNum,\n    centerAlign: true,\n    template: {\n      page: '<a href=\"#\" class=\"page-btn\">{{page}}</a>',\n      currentPage: '<a href=\"#\" class=\"page-btn is-selected\">{{page}}</a>',\n      moveButton: '<a href=\"#\" class=\"page-btn page-{{type}}\"></a>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\" id=\"point-{{type}}\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const pagination = new Pagination(container, options);\n  pagination.on('afterMove', event => {\n    const currentPage = event.page;\n    if (queryType === 'TRENDING') {\n      fetchData('TRENDING', { page: currentPage }).then(res => {\n        onRenderGallery(res.data.results);\n      });\n      return;\n    } else if (queryType === 'SEARCH_MOVIES') {\n      fetchData('SEARCH_MOVIES', { page: currentPage, query: queryWord }).then(\n        res => {\n          onRenderGallery(res.data.results);\n          return;\n        }\n      );\n    }\n  });\n}\n","import { onRenderGallery } from './onRenderGallery';\nimport { fetchData, SEARCH_MOVIES } from './fetchData';\nimport { loading } from '../constants/loading';\nimport Pagination from './pagination';\n\nexport const onFindFilmTitle = () => {\n  const form = document.querySelector('.header__form');\n  let query;\n  const errorField = document.querySelector('.header-error__text');\n\n  form.addEventListener('submit', onSubmit);\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    errorField.textContent = '';\n\n    const { searchQuery } = e.currentTarget;\n    if (query === searchQuery.value) {\n      return;\n    }\n\n    const gallery = document.querySelector('.film-selection');\n\n    query = searchQuery.value;\n\n    const res = await fetchData(SEARCH_MOVIES, { page: 1, query });\n\n    if (res.data.results.length === 0) {\n      errorField.textContent =\n        'There is no films with such name. Please, try again.';\n      return;\n    }\n    gallery.innerHTML = loading;\n    onRenderGallery(res.data.results);\n    Pagination(res.data, 'SEARCH_MOVIES', query);\n  }\n};\n\nonFindFilmTitle();\n"],"names":["$2cf82e57be6dc984$var$pageNum","$2cf82e57be6dc984$var$totalItemsNum","$bpxeT","parcelRequire","$1VFfL","$2cf82e57be6dc984$export$2e2bcd8739ae039","data","queryType","queryWord","page","total_pages","pages","window","screen","width","container","document","getElementById","options","totalItems","itemsPerPage","visiblePages","centerAlign","template","currentPage","moveButton","moreButton","$parcel$interopDefault","on","event","$5JgHg","fetchData","query","then","res","$k7R8L","onRenderGallery","results","$346899a0a034fd98$export$105d94fe592039ac","$2TvXO","mark","_callee","querySelector","innerHTML","$bSQtk","loading","TRENDING","_ctx","sent","$346899a0a034fd98$var$form","addEventListener","reset","form","errorField","_onSubmit","e","searchQuery","gallery","preventDefault","textContent","currentTarget","value","SEARCH_MOVIES","length","apply","this","arguments","$7ecc6853ab9e7250$export$8f8a41cec030ce32"],"version":3,"file":"index.a8cd52ca.js.map"}