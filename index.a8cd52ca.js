!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequiref3f2;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequiref3f2=a);var o,i,u=a("bpxeT"),l=a("2TvXO"),s=a("k7R8L"),c=a("5JgHg"),d=a("bSQtk"),f=a("1VFfL");c=a("5JgHg"),s=a("k7R8L");function p(t,n,r){o=t.page,i=t.total_pages;var a=5;window.screen.width>=768&&(a=9);var u=document.getElementById("tui-pagination-container"),l={totalItems:i,itemsPerPage:20,visiblePages:a,page:o,centerAlign:!0,template:{page:'<a href="#" class="page-btn">{{page}}</a>',currentPage:'<a href="#" class="page-btn is-selected">{{page}}</a>',moveButton:'<a href="#" class="page-btn page-{{type}}"></a>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip" id="point-{{type}}"><span class="tui-ico-ellip">...</span></a>'}};new(e(f))(u,l).on("afterMove",(function(e){var t=e.page;"TRENDING"!==n?"SEARCH_MOVIES"===n&&(0,c.fetchData)("SEARCH_MOVIES",{page:t,query:r}).then((function(e){(0,s.onRenderGallery)(e.data.results)})):(0,c.fetchData)("TRENDING",{page:t}).then((function(e){(0,s.onRenderGallery)(e.data.results)}))}))}var g,h=(g=e(u)(e(l).mark((function t(n){var r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelector(".film-selection").innerHTML=d.loading,e.next=4,(0,c.fetchData)(c.TRENDING,{page:1});case 4:r=e.sent,(0,s.onRenderGallery)(r.data.results),p(r.data,"TRENDING");case 7:case"end":return e.stop()}}),t)}))),function(e){return g.apply(this,arguments)}),m=document.querySelector(".header__form");document.querySelector(".header-logo__link").addEventListener("click",(function(){h(),m.reset()})),document.querySelector("[data-home]").addEventListener("click",(function(){h(),m.reset()})),h();u=a("bpxeT"),l=a("2TvXO"),s=a("k7R8L"),c=a("5JgHg"),d=a("bSQtk");!function(){var t,n=document.querySelector(".header__form"),r=document.querySelector(".header-error__text");function a(){return(a=e(u)(e(l).mark((function n(a){var o,i,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r.textContent="",o=a.currentTarget.searchQuery,t!==o.value){e.next=5;break}return e.abrupt("return");case 5:return i=document.querySelector(".film-selection"),t=o.value,e.next=9,(0,c.fetchData)(c.SEARCH_MOVIES,{page:1,query:t});case 9:if(0!==(u=e.sent).data.results.length){e.next=13;break}return r.textContent="There is no films with such name. Please, try again.",e.abrupt("return");case 13:i.innerHTML=d.loading,(0,s.onRenderGallery)(u.data.results),p(u.data,"SEARCH_MOVIES",t);case 16:case"end":return e.stop()}}),n)})))).apply(this,arguments)}n.addEventListener("submit",(function(e){return a.apply(this,arguments)}))}(),a("aaIwG"),a("hWhII"),a("5mYgn"),a("5iNTY"),a("8Kbga")}();
//# sourceMappingURL=index.a8cd52ca.js.map
