{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,0BCAAC,EAAAD,EAAA,S,0BAKA,IAAIE,EACAC,EAEW,SAAAC,EAAoBC,EAAMC,EAAWC,GAClDL,EAAUG,EAAKG,KACfL,EAAgBE,EAAKI,YACrB,IAAIC,EAAQ,EACRC,OAAOC,OAAOC,OAAS,MACzBH,EAAQ,GAGV,MAAMI,EAAYC,SAASC,eAAe,4BAEpCC,EAAU,CACdC,WAAYf,EACZgB,aAAc,GACdC,aAAcV,EACdF,KAAMN,EACNmB,aAAa,EACbC,SAAU,CACRd,KAAM,4CACNe,YAAa,wDACbC,WAAY,kDACZC,WACE,0HAMa,IAAIC,EAAAzB,GAAJ,CAAea,EAAWG,GAClCU,GAAG,aAAaC,IACzB,MAAML,EAAcK,EAAMpB,KACR,aAAdF,EAKqB,kBAAdA,IACT,EAAAuB,EAAAC,WAAU,gBAAiB,CAAEtB,KAAMe,EAAaQ,MAAOxB,IAAayB,MAClEC,KACE,EAAAlC,EAAAmC,iBAAgBD,EAAI5B,KAAK8B,QACzB,KARJ,EAAAN,EAAAC,WAAU,WAAY,CAAEtB,KAAMe,IAAeS,MAAKC,KAChD,EAAAlC,EAAAmC,iBAAgBD,EAAI5B,KAAK8B,QAAQ,GASlC,G,CD5CA,MAAMC,EAAaC,MAAM7B,IACdO,SAASuB,cAAc,mBAC/BC,UAAYC,EAAAC,QACpB,MAAMR,QAAY,EAAAJ,EAAAC,WAAUD,EAAAa,SAAU,CAAElC,KAAc,KAEtD,EAAAT,EAAAmC,iBAAgBD,EAAI5B,KAAK8B,SACzB/B,EAAW6B,EAAI5B,KAAM,WAAW,EAG5BsC,EAAO5B,SAASuB,cAAc,iBACpCvB,SAASuB,cAAc,sBAAsBM,iBAAiB,SAAS,KACrER,IACAO,EAAKE,OAAO,IAEd9B,SAASuB,cAAc,eAAeM,iBAAiB,SAAS,KAC9DR,IACAO,EAAKE,OAAO,IAEdT,IEvBArC,EAAAC,EAAA,S,0BAK+B,MAC7B,MAAM8C,EAAO/B,SAASuB,cAAc,iBACpC,IAAIP,EACJ,MAAMgB,EAAahC,SAASuB,cAAc,uBAE1CQ,EAAKF,iBAAiB,UAEtBP,eAAwBW,GACtBA,EAAEC,iBACFF,EAAWG,YAAc,GAEzB,MAAMC,YAAEA,GAAgBH,EAAEI,cAC1B,GAAIrB,IAAUoB,EAAYE,MACxB,OAGF,MAAMC,EAAUvC,SAASuB,cAAc,mBAEvCP,EAAQoB,EAAYE,MAEpB,MAAMpB,QAAY,EAAAJ,EAAAC,WAAUD,EAAA0B,cAAe,CAAE/C,KAAM,E,MAAGuB,IAEtD,GAAgC,IAA5BE,EAAI5B,KAAK8B,QAAQqB,OAGnB,YAFAT,EAAWG,YACT,wDAGJI,EAAQf,UAAYC,EAAAC,SACpB,EAAA1C,EAAAmC,iBAAgBD,EAAI5B,KAAK8B,SACzB/B,EAAW6B,EAAI5B,KAAM,gBAAiB0B,E,KAI1C0B,G","sources":["src/js/utilities/onTrending.js","src/js/utilities/pagination.js","src/js/utilities/onFindFilmTitle.js"],"sourcesContent":["import { onRenderGallery } from './onRenderGallery';\nimport { fetchData, TRENDING } from './fetchData';\nimport { loading } from '../constants/loading';\nimport Pagination from './pagination';\n\nexport const onTrending = async page => {\n  const gallery = document.querySelector('.film-selection');\n  gallery.innerHTML = loading;\n  const res = await fetchData(TRENDING, { page: (page = 1) });\n\n  onRenderGallery(res.data.results);\n  Pagination(res.data, 'TRENDING');\n};\n\nconst form = document.querySelector('.header__form');\ndocument.querySelector('.header-logo__link').addEventListener('click', () => {\n  onTrending();\n  form.reset();\n});\ndocument.querySelector('[data-home]').addEventListener('click', () => {\n  onTrending();\n  form.reset();\n});\nonTrending();\n","import Pagination from 'tui-pagination';\n// import 'tui-pagination/dist/tui-pagination.css';\nimport { fetchData } from './fetchData';\nimport { onRenderGallery } from './onRenderGallery';\n\nlet pageNum;\nlet totalItemsNum;\n\nexport default function Pagination(data, queryType, queryWord) {\n  pageNum = data.page;\n  totalItemsNum = data.total_pages;\n  let pages = 5;\n  if (window.screen.width >= 768) {\n    pages = 9;\n  }\n\n  const container = document.getElementById('tui-pagination-container');\n\n  const options = {\n    totalItems: totalItemsNum,\n    itemsPerPage: 20,\n    visiblePages: pages,\n    page: pageNum,\n    centerAlign: true,\n    template: {\n      page: '<a href=\"#\" class=\"page-btn\">{{page}}</a>',\n      currentPage: '<a href=\"#\" class=\"page-btn is-selected\">{{page}}</a>',\n      moveButton: '<a href=\"#\" class=\"page-btn page-{{type}}\"></a>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\" id=\"point-{{type}}\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const pagination = new Pagination(container, options);\n  pagination.on('afterMove', event => {\n    const currentPage = event.page;\n    if (queryType === 'TRENDING') {\n      fetchData('TRENDING', { page: currentPage }).then(res => {\n        onRenderGallery(res.data.results);\n      });\n      return;\n    } else if (queryType === 'SEARCH_MOVIES') {\n      fetchData('SEARCH_MOVIES', { page: currentPage, query: queryWord }).then(\n        res => {\n          onRenderGallery(res.data.results);\n          return;\n        }\n      );\n    }\n  });\n}\n","import { onRenderGallery } from './onRenderGallery';\nimport { fetchData, SEARCH_MOVIES } from './fetchData';\nimport { loading } from '../constants/loading';\nimport Pagination from './pagination';\n\nexport const onFindFilmTitle = () => {\n  const form = document.querySelector('.header__form');\n  let query;\n  const errorField = document.querySelector('.header-error__text');\n\n  form.addEventListener('submit', onSubmit);\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    errorField.textContent = '';\n\n    const { searchQuery } = e.currentTarget;\n    if (query === searchQuery.value) {\n      return;\n    }\n\n    const gallery = document.querySelector('.film-selection');\n\n    query = searchQuery.value;\n\n    const res = await fetchData(SEARCH_MOVIES, { page: 1, query });\n\n    if (res.data.results.length === 0) {\n      errorField.textContent =\n        'There is no films with such name. Please, try again.';\n      return;\n    }\n    gallery.innerHTML = loading;\n    onRenderGallery(res.data.results);\n    Pagination(res.data, 'SEARCH_MOVIES', query);\n  }\n};\n\nonFindFilmTitle();\n"],"names":["$kJc72","parcelRequire","$fb9GJ","$c43f51bcb0d2d6e3$var$pageNum","$c43f51bcb0d2d6e3$var$totalItemsNum","$c43f51bcb0d2d6e3$export$2e2bcd8739ae039","data","queryType","queryWord","page","total_pages","pages","window","screen","width","container","document","getElementById","options","totalItems","itemsPerPage","visiblePages","centerAlign","template","currentPage","moveButton","moreButton","$parcel$interopDefault","on","event","$NIOgM","fetchData","query","then","res","onRenderGallery","results","$a2c42bc6bfe3e979$export$105d94fe592039ac","async","querySelector","innerHTML","$lkrYr","loading","TRENDING","$a2c42bc6bfe3e979$var$form","addEventListener","reset","form","errorField","e","preventDefault","textContent","searchQuery","currentTarget","value","gallery","SEARCH_MOVIES","length","$964ec52e1afbe5f3$export$8f8a41cec030ce32"],"version":3,"file":"index.e8f24acf.js.map"}